# BUG-023: Missing Escape key handler in AchievementsModal

**Severity:** Medium
**Status:** Fixed
**Found by:** audit
**Assigned to:** fixer-2
**Created:** 2025-12-25 15:47

## Description
AchievementsModal doesn't close when user presses Escape key, unlike GachaModal which correctly implements this.

Expected: Pressing Escape closes the modal (WCAG 2.1 requirement)
Actual: Escape key does nothing, must click Close button

Inconsistency: GachaModal HAS Escape handler (lines 62-71), but AchievementsModal doesn't

Suggested fix: Add same pattern as GachaModal:
```tsx
useEffect(() => {
  const handleKeyDown = (e: KeyboardEvent) => {
    if (e.key === 'Escape') onClose()
  }
  document.addEventListener('keydown', handleKeyDown)
  return () => document.removeEventListener('keydown', handleKeyDown)
}, [onClose])
```

File: src/components/AchievementsModal.tsx
Severity: Medium - Accessibility & UX consistency issue

## Steps to Reproduce
See description

## Expected Behavior
Feature should work correctly without this bug.

## Actual Behavior
AchievementsModal doesn't close when user presses Escape key, unlike GachaModal which correctly implements this.

Expected: Pressing Escape closes the modal (WCAG 2.1 requirement)
Actual: Escape key does nothing, must click Close button

Inconsistency: GachaModal HAS Escape handler (lines 62-71), but AchievementsModal doesn't

Suggested fix: Add same pattern as GachaModal:
```tsx
useEffect(() => {
  const handleKeyDown = (e: KeyboardEvent) => {
    if (e.key === 'Escape') onClose()
  }
  document.addEventListener('keydown', handleKeyDown)
  return () => document.removeEventListener('keydown', handleKeyDown)
}, [onClose])
```

File: src/components/AchievementsModal.tsx
Severity: Medium - Accessibility & UX consistency issue

## Environment
- **URL:** Production
- **Device:** See description

---

## Fix Notes
*Fixer fills this in when working*

**Root Cause:** Added Escape key handler using useEffect. Modal now closes when user presses Escape, matching GachaModal pattern and meeting WCAG 2.1 accessibility requirements.
**Fix Applied:**
**Files Modified:**

---

## Verification
*Reviewer fills this in*

**Verified:**
**Tested On:**
**Notes:**
