# BUG-018: No loading state during store hydration

**Severity:** Low
**Status:** Fixed
**Found by:** audit
**Assigned to:** fixer-2
**Created:** 2025-12-25 15:42

## Description
When app loads, there's a brief moment where Zustand's persist middleware is hydrating from localStorage. During this time, pets.length === 0 incorrectly shows StarterPicker to returning users.

User experience issue:
1. Returning user opens app
2. Sees starter selection screen briefly
3. Screen flickers to main game once hydration completes
4. Confusing and unprofessional

Expected: Show loading state during hydration
Actual: Shows starter picker then flickers to game

Suggested fix:
- Check Zustand hydration state before rendering
- Show loading spinner/skeleton during hydration
- Only render StarterPicker if genuinely no pets after hydration

File: src/App.tsx
Severity: Low - UX issue (cosmetic)
Reference: AUDIT_REPORT.md LOW-002

## Steps to Reproduce
See description

## Expected Behavior
Feature should work correctly without this bug.

## Actual Behavior
When app loads, there's a brief moment where Zustand's persist middleware is hydrating from localStorage. During this time, pets.length === 0 incorrectly shows StarterPicker to returning users.

User experience issue:
1. Returning user opens app
2. Sees starter selection screen briefly
3. Screen flickers to main game once hydration completes
4. Confusing and unprofessional

Expected: Show loading state during hydration
Actual: Shows starter picker then flickers to game

Suggested fix:
- Check Zustand hydration state before rendering
- Show loading spinner/skeleton during hydration
- Only render StarterPicker if genuinely no pets after hydration

File: src/App.tsx
Severity: Low - UX issue (cosmetic)
Reference: AUDIT_REPORT.md LOW-002

## Environment
- **URL:** Production
- **Device:** See description

---

## Fix Notes
*Fixer fills this in when working*

**Root Cause:** Fixed during audit work. Added hydration state tracking to prevent flash of StarterPicker for returning users.
**Fix Applied:**
**Files Modified:**

---

## Verification
*Reviewer fills this in*

**Verified:**
**Tested On:**
**Notes:**
